{"ast":null,"code":"import _classCallCheck from\"D:/NAM3/Ki_2/KUR/BookstoreInventorySystem-main/Bookstore-app-web/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"D:/NAM3/Ki_2/KUR/BookstoreInventorySystem-main/Bookstore-app-web/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"D:/NAM3/Ki_2/KUR/BookstoreInventorySystem-main/Bookstore-app-web/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"D:/NAM3/Ki_2/KUR/BookstoreInventorySystem-main/Bookstore-app-web/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from\"react\";import{Card,Table,ButtonGroup,Button}from\"react-bootstrap\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faCoffee,faEdit,faTrash,faList}from\"@fortawesome/free-solid-svg-icons\";import axios from\"axios\";import MyToast from\"./MyToast\";import{Link}from\"react-router-dom\";var Admin=/*#__PURE__*/function(_Component){_inherits(Admin,_Component);var _super=_createSuper(Admin);function Admin(props){var _this;_classCallCheck(this,Admin);_this=_super.call(this,props);_this.deleteManager=function(managerId){axios.delete(\"http://localhost:8081/api/admin/manager/\"+managerId).then(function(response){if(response.data!=null){_this.setState({show:true});setTimeout(function(){return _this.setState({show:false});},3000);_this.setState({managers:_this.state.managers.filter(function(manager){return manager.userid!==managerId;})});}else{_this.setState({show:false});}});};_this.navigateManager=function(){// 👇️ navigate to /\nwindow.location.href=\"http://localhost:3000/addManager\";};_this.logout=function(){sessionStorage.removeItem(\"loginInfo\");window.location.href=\"http://localhost:3000\";};_this.state={managers:[]};return _this;}_createClass(Admin,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch(\"http://localhost:8081/api/admin/managerList\").then(function(response){var managerList=[];response.json().then(function(data){_this2.setState({managers:data});console.log(\"Data : \"+JSON.stringify(_this2.state.managers));});});}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"button\",{type:\"button\",class:\"btn btn-primary\",onClick:this.navigateManager,style:{margin:\"10px\"}},\"Add Manager\"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",class:\"btn btn-danger\",onClick:this.logout,style:{position:\"relative\",left:\"55rem\"}},\"Logout\"),/*#__PURE__*/React.createElement(\"div\",{style:{display:this.state.show?\"block\":\"none\"}},/*#__PURE__*/React.createElement(MyToast,{show:this.state.show,message:\"Manager was deleted successfully.\",type:\"danger\"})),/*#__PURE__*/React.createElement(Card,{className:\"border border-dark bg-dark text-white\"},/*#__PURE__*/React.createElement(Card.Header,null,\" \",/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faList}),\" \",\"  \",\"Manager List\"),/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(Table,{striped:true,bordered:true,hover:true,variant:\"dark\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Id\"),/*#__PURE__*/React.createElement(\"th\",null,\"Name\"),/*#__PURE__*/React.createElement(\"th\",null,\"Email\"),/*#__PURE__*/React.createElement(\"th\",null,\"Contact\"),/*#__PURE__*/React.createElement(\"th\",null,\"Address\"),/*#__PURE__*/React.createElement(\"th\",null,\"Actions\"))),/*#__PURE__*/React.createElement(\"tbody\",null,this.state.managers.length===0?/*#__PURE__*/React.createElement(\"tr\",{align:\"center\"},/*#__PURE__*/React.createElement(\"td\",{colSpan:\"10\"},this.state.managers)):this.state.managers.map(function(manager){return/*#__PURE__*/React.createElement(\"tr\",{key:manager.userid},/*#__PURE__*/React.createElement(\"td\",null,manager.userid,\" \"),/*#__PURE__*/React.createElement(\"td\",null,manager.name,\" \"),/*#__PURE__*/React.createElement(\"td\",null,manager.email,\" \"),/*#__PURE__*/React.createElement(\"td\",null,manager.contact_no,\" \"),/*#__PURE__*/React.createElement(\"td\",null,manager.address,\" \"),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(ButtonGroup,null,/*#__PURE__*/React.createElement(Link,{to:\"addManager/\"+manager.userid,className:\"btn btn-sm btn-outline-primary\"},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faEdit})),\" \",\"  \",\"  \",/*#__PURE__*/React.createElement(Button,{size:\"sm\",variant:\"outline-danger\",onClick:_this3.deleteManager.bind(_this3,manager.userid)},\"Delete \",/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTrash})))));}))))));}}]);return Admin;}(Component);export{Admin as default};","map":{"version":3,"names":["React","Component","Card","Table","ButtonGroup","Button","FontAwesomeIcon","faCoffee","faEdit","faTrash","faList","axios","MyToast","Link","Admin","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","deleteManager","managerId","delete","then","response","data","setState","show","setTimeout","managers","state","filter","manager","userid","navigateManager","window","location","href","logout","sessionStorage","removeItem","_createClass","key","value","componentDidMount","_this2","fetch","managerList","json","console","log","JSON","stringify","render","_this3","createElement","type","class","onClick","style","margin","position","left","display","message","className","Header","icon","Body","striped","bordered","hover","variant","length","align","colSpan","map","name","email","contact_no","address","to","size","bind","default"],"sources":["D:/NAM3/Ki_2/KUR/BookstoreInventorySystem-main/Bookstore-app-web/src/components/Admin.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { Card, Table, ButtonGroup, Button } from \"react-bootstrap\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nimport {\n  faCoffee,\n  faEdit,\n  faTrash,\n  faList,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport axios from \"axios\";\nimport MyToast from \"./MyToast\";\nimport { Link } from \"react-router-dom\";\n\nexport default class Admin extends Component {\n         \n  constructor(props) {\n    super(props);\n    this.state = {\n      managers: [],\n    };\n  }\n\n  componentDidMount() {\n    fetch(\"http://localhost:8081/api/admin/managerList\")\n      .then((response) => {\n        let managerList = [];\n        response.json().then((data) => {\n          this.setState({managers:data})\n          console.log(\"Data : \"+JSON.stringify(this.state.managers));\n        });\n        \n      })\n      \n  \n  }\n\n  deleteManager = (managerId) => {\n    axios.delete(\"http://localhost:8081/api/admin/manager/\" + managerId).then((response) => {\n      if (response.data != null) {\n        this.setState({ show: true });\n        setTimeout(() => this.setState({ show: false }), 3000);\n        this.setState({\n          managers: this.state.managers.filter((manager) => manager.userid !== managerId)\n        });\n      \n      } else {\n        this.setState({ show: false });\n      }\n    });\n  };\n\n   navigateManager = () => {\n    // 👇️ navigate to /\n    window.location.href=\"http://localhost:3000/addManager\";\n  };\n\n  logout = () =>\n  {\n    sessionStorage.removeItem(\"loginInfo\");\n    window.location.href=\"http://localhost:3000\";\n  }\n\n    render() \n    \n    {\n      return (\n\n        <div>\n        <button type=\"button\" class=\"btn btn-primary\" onClick={this.navigateManager} style={{margin:\"10px\"}}>Add Manager</button>\n        <button type=\"button\" class=\"btn btn-danger\" onClick={this.logout} style={{position:\"relative\",left:\"55rem\"}}>Logout</button>\n        <div style={{ display: this.state.show ? \"block\" : \"none\" }}>\n          <MyToast\n            show={this.state.show}\n            message={\"Manager was deleted successfully.\"}\n            type={\"danger\"}\n          />\n        </div>\n        <Card className={\"border border-dark bg-dark text-white\"}>\n          <Card.Header>\n            {\" \"}\n            <FontAwesomeIcon icon={faList} /> {\"  \"}\n            Manager List\n          </Card.Header>\n          <Card.Body>\n            <Table striped bordered hover variant=\"dark\">\n              <thead>\n                <tr>\n                  <th>Id</th>\n                  <th>Name</th>\n                  <th>Email</th>\n                  <th>Contact</th>\n                  <th>Address</th>\n                  <th>Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n              \n                {this.state.managers.length === 0 ? (\n                  <tr align=\"center\">\n                    <td colSpan=\"10\">{this.state.managers}</td> \n                  </tr>\n                ) : (\n                  this.state.managers.map((manager) => (\n                    <tr key={manager.userid}>\n                      <td>{manager.userid} </td>\n                      <td>{manager.name} </td>\n                      <td>{manager.email} </td>\n                      <td>{manager.contact_no} </td>\n                      <td>{manager.address} </td>\n                      <td>\n                        <ButtonGroup>\n                          <Link\n                            to={\"addManager/\" + manager.userid}\n                            className=\"btn btn-sm btn-outline-primary\"\n                          >\n                            <FontAwesomeIcon icon={faEdit} />\n                          </Link>{\" \"}\n                          {\"  \"}\n                          {\"  \"}\n                          <Button\n                            size=\"sm\"\n                            variant=\"outline-danger\"\n                            onClick={this.deleteManager.bind(this, manager.userid)}\n                          >\n                            Delete <FontAwesomeIcon icon={faTrash} />\n                          </Button>\n                        </ButtonGroup>\n                      </td>\n                    </tr>\n                  ))\n                )}\n              </tbody>\n            </Table>\n          </Card.Body>\n        </Card>\n      </div>\n      );\n    }\n  }"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}