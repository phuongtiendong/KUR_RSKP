{"ast":null,"code":"import _defineProperty from\"D:/NAM3/Ki_2/KUR/BookstoreInventorySystem-main/Bookstore-app-web/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"D:/NAM3/Ki_2/KUR/BookstoreInventorySystem-main/Bookstore-app-web/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"D:/NAM3/Ki_2/KUR/BookstoreInventorySystem-main/Bookstore-app-web/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"D:/NAM3/Ki_2/KUR/BookstoreInventorySystem-main/Bookstore-app-web/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"D:/NAM3/Ki_2/KUR/BookstoreInventorySystem-main/Bookstore-app-web/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"D:/NAM3/Ki_2/KUR/BookstoreInventorySystem-main/Bookstore-app-web/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from\"react\";import{Card}from\"react-bootstrap\";import axios from\"axios\";var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.loginData={email:\"\",password:\"\"};_this.onChange=function(event){_this.setState(_defineProperty({},event.target.name,event.target.value));};//Login\n_this.login=function(event){event.preventDefault();var user={email:_this.state.email,password:_this.state.password};axios.post(\"http://localhost:8081/login\",user).then(function(response){if(response.data!=null){var authenticatedUser=response.data;console.log(\"User \"+JSON.stringify(authenticatedUser));alert(\"Login successful\");if(authenticatedUser.role==\"ADMIN\"){sessionStorage.setItem(\"loginInfo\",authenticatedUser);window.location.href=\"http://localhost:3000/admin\";}if(authenticatedUser.role==\"MANAGER\"){sessionStorage.setItem(\"loginInfo\",authenticatedUser);window.location.href=\"http://localhost:3000/manager\";}}else{alert(\"Invalid credentials !!!\");}}).catch(function(error){alert(\"Invalid credentials !!! \"+error);});_this.setState(_this.loginData);};_this.state=_this.loginData;_this.login=_this.login.bind(_assertThisInitialized(_this));return _this;}_createClass(Login,[{key:\"render\",value:function render(){var _this$state=this.state,email=_this$state.email,password=_this$state.password;return/*#__PURE__*/React.createElement(Card,{className:\"loginCard\",style:{padding:\"15px\"}},/*#__PURE__*/React.createElement(\"center\",null,/*#__PURE__*/React.createElement(\"h1\",null,\"Login\")),/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.login},/*#__PURE__*/React.createElement(\"div\",{class:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{for:\"exampleInputEmail1\"},\"Email address\"),/*#__PURE__*/React.createElement(\"input\",{type:\"email\",class:\"form-control\",id:\"exampleInputEmail1\",\"aria-describedby\":\"emailHelp\",placeholder:\"Enter email\",name:\"email\",value:email,onChange:this.onChange}),/*#__PURE__*/React.createElement(\"small\",{id:\"emailHelp\",class:\"form-text text-muted\"},\"We'll never share your email with anyone else.\")),/*#__PURE__*/React.createElement(\"div\",{class:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{for:\"exampleInputPassword1\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",class:\"form-control\",id:\"exampleInputPassword1\",placeholder:\"Password\",name:\"password\",value:password,onChange:this.onChange})),/*#__PURE__*/React.createElement(\"div\",{class:\"form-group form-check\"},/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",class:\"form-check-input\",id:\"exampleCheck1\"}),/*#__PURE__*/React.createElement(\"label\",{class:\"form-check-label\",for:\"exampleCheck1\"},\"Agree terms and conditions\")),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",class:\"btn btn-primary\"},\"Login\")));}}]);return Login;}(Component);export{Login as default};","map":{"version":3,"names":["React","Component","Card","axios","Login","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","loginData","email","password","onChange","event","setState","_defineProperty","target","name","value","login","preventDefault","user","state","post","then","response","data","authenticatedUser","console","log","JSON","stringify","alert","role","sessionStorage","setItem","window","location","href","catch","error","bind","_assertThisInitialized","_createClass","key","render","_this$state","createElement","className","style","padding","onSubmit","class","for","type","id","placeholder","default"],"sources":["D:/NAM3/Ki_2/KUR/BookstoreInventorySystem-main/Bookstore-app-web/src/components/Login.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { Card } from \"react-bootstrap\";\nimport axios from \"axios\";\n\n\n\nexport default class Login extends Component {\n\n    constructor(props) {\n        super(props);\n    \n        this.state = this.loginData;\n        this.login = this.login.bind(this);\n      }\n      loginData = { email: \"\",password: \"\"};\n\n\n      onChange = (event) => {\n        this.setState({\n          [event.target.name]: event.target.value,\n        });\n      };\n\n\n\n       //Login\n  login = (event) => {\n  \n    event.preventDefault();\n\n    const user = {\n      email: this.state.email,\n      password: this.state.password\n    };\n\n    axios.post(\"http://localhost:8081/login\", user).then((response) => {\n      if (response.data != null) {\n          let authenticatedUser = response.data;\n        console.log(\"User \" + JSON.stringify(authenticatedUser));\n       alert(\"Login successful\");\n        if(authenticatedUser.role==\"ADMIN\")\n        {\n          sessionStorage.setItem(\"loginInfo\",authenticatedUser);\n          window.location.href=\"http://localhost:3000/admin\";\n        }\n        if(authenticatedUser.role==\"MANAGER\")\n        {\n          sessionStorage.setItem(\"loginInfo\",authenticatedUser);\n          window.location.href=\"http://localhost:3000/manager\";\n        }\n\n      } else {\n        alert(\"Invalid credentials !!!\")\n      }\n    }).catch((error) =>\n    {\n        alert(\"Invalid credentials !!! \"+error);\n    }\n    );\n\n    this.setState(this.loginData);\n  };\n    \n\n    render() {\n        const { email,password } = this.state;\n\n        return (\n            <Card className=\"loginCard\" style={{padding:\"15px\"}}>\n            <center><h1>Login</h1></center>\n            <form onSubmit={this.login}>\n            <div class=\"form-group\">\n              <label for=\"exampleInputEmail1\">Email address</label>\n              <input type=\"email\" class=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" placeholder=\"Enter email\"\n                  name=\"email\"\n                  value={email}\n                   onChange={this.onChange}\n              />\n              <small id=\"emailHelp\" class=\"form-text text-muted\">We'll never share your email with anyone else.</small>\n            </div>\n            <div class=\"form-group\">\n              <label for=\"exampleInputPassword1\">Password</label>\n              <input type=\"password\" class=\"form-control\" id=\"exampleInputPassword1\"\n               placeholder=\"Password\"\n               name=\"password\"\n               value={password}\n               onChange={this.onChange}\n               />\n            </div>\n            <div class=\"form-group form-check\">\n              <input type=\"checkbox\" class=\"form-check-input\" id=\"exampleCheck1\"/>\n              <label class=\"form-check-label\" for=\"exampleCheck1\">Agree terms and conditions</label>\n            </div>\n            <button type=\"submit\" class=\"btn btn-primary\">Login</button>\n\n          </form>\n          </Card>\n        )\n}\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}